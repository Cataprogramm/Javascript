<!DOCTYPE html>
<html lang="es">
<head>
<!---Hacer un programa que permita introducir los datos de tantos alumnos como se desee. Cuando no se desee
introducir más datos se mostrará un listado ordenado ascendentemente por nombre con el nombre y nota media
de cada alumno y otro listado similar pero ordenado descendentemente por nota media.--->
		<meta charset="UTF-8">
		<meta name="author" content="Catalin Mazarache">
		<title>Tabla de alumnos</title>
			<script>
var personas = [];
var flag = false;
var flagg = false;
var personas_ordenadas = [];
var suma = 0;

//dentro del "do" solo se piden los datos de nombre y las notas, en el caso de las notas lo que hago es hacer un while y preguntar
//varias veces las notas y las guardo en un array. 
do {
    var nomb = prompt("dame el nombre del estudiante");
    var notas = [parseInt(prompt("dame las notas del estudiante"))]
    flagg = confirm("¿Quieres añadir mas notas?");

    while (flagg) {
        var tmp = parseInt(prompt("dame las notas del estudiante"));
        notas.push(tmp);
        flagg = confirm("¿Quieres añadir mas notas?");
    }

    personas.push({ nombre: nomb, notas: notas });

    flag = confirm("¿Desea continuar?");
} while (flag);

console.log("odenado ascendentemente...");

//oderno por nombre el array.
personas_ordenadas = (personas.sort((a, b) => {
    if (a.nombre.toUpperCase() < b.nombre.toUpperCase()) {
        return -1;
    }
    if (a.nombre.toUpperCase() > b.nombre.toUpperCase()) {
        return 1;
    }
    return 0;
}));

//para mostrar el promedio de las notas lo que hago es crear dentro de un for un foreach.
for (var i = 0; i < personas_ordenadas.length; i++) {
    personas_ordenadas[i].notas.forEach((a) => {
        suma += a;
    });

    console.log(`${i}.) Nombre: ${personas_ordenadas[i].nombre}, promedio: ${suma/personas_ordenadas[i].notas.length}`);

}

    console.log("Ordenado descentemente...");
    console.log(personas.sort((a,b)=>{
        if (a.nombre.toUpperCase()< b.nombre.toUpperCase()) {
            return 1;
        }
        if (a.nombre.toUpperCase()> b.nombre.toUpperCase()) {
            return -1;
        }
        return 0;
    }));
</script>
</head>
<body>

</body>
</html>

